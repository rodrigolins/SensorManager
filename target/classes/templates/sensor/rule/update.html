<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorator="base/base">
	<head>
		<title>Rule update</title>
	</head>
	<body>
		<div layout:fragment="body">
			<div class="container">
				<div class="row">
					<h1>Rule update</h1>
				</div>
				<form class="form-horizontal" action="#" th:action="@{/sensor/{id}/rule/{ruleid}/update(id=${sensor.id},ruleid=${rule.id})}"
					  th:object="${rule}" method="post">

					<div class="form-group">
						<label th:for="propertyType" class="col-sm-4 control-label">Property type:</label>
						<div class="col-sm-4">
							<select class="form-control" th:field="*{propertyType}">
								<option th:each="type : ${propertyType}"
										th:value="${type.id}"
										th:text="${type.name}"></option>
							</select>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>

					<div th:class="${#fields.hasErrors('value')} ? 'form-group has-error' : form-group">
						<label th:for="value" class="col-sm-4 control-label">Value:</label>
						<div class="col-sm-4">
							<input class="form-control" type="number" th:field="*{value}"/>
							<span th:class="${#fields.hasErrors('value')} ? help-block" th:if="${#fields.hasErrors('value')}" th:errors="*{value}">Value error message </span>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>

					<div th:class="${#fields.hasErrors('unit')} ? 'form-group has-error' : form-group">
						<label th:for="unit" class="col-sm-4 control-label">Unit:</label>
						<div class="col-sm-4">
							<input class="form-control" type="text" th:field="*{unit}"/>
							<span th:class="${#fields.hasErrors('unit')} ? help-block" th:if="${#fields.hasErrors('unit')}" th:errors="*{unit}">Unit error message </span>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>

					<div th:class="${#fields.hasErrors('time')} ? 'form-group has-error' : form-group">
						<label th:for="time" class="col-sm-4 control-label">Time:</label>
						<div class="col-sm-4">
							<input class="form-control" type="number" th:field="*{time}"/>
							<span th:class="${#fields.hasErrors('time')} ? help-block" th:if="${#fields.hasErrors('time')}" th:errors="*{time}">Time error message </span>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>

					<div th:class="form-group">
						<label th:for="boundary" class="col-sm-4 control-label">Boundary:</label>
						<div class="col-sm-4">
							<select th:field="*{boundary}" th:class="form-control">
								<option th:each="type: ${T(sensorsmanager.business.entities.Rule.Boundary).values()}"
									th:value="${type}"
									th:text="${type.name}">
								</option>
							</select>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>

					<div class="form-group">
						<div class="col-sm-offset-4 col-sm-4">
							<button type="submit" class="btn btn-default">Save
								<input type="hidden" th:field="${rule.id}" />
							</button>
						</div>
						<div class="col-sm-4 hidden-xs"></div>
					</div>
				</form>
					<!-- <div th:if="${!propertyTypes.isEmpty()}">
						<ul>
							<li th:text="'ID: ' + ${sensor.id}"></li>
							<li th:text="'Sensor type: '+ ${sensor.sensorType.name}"></li>
							<li th:text="'Model: '+ ${sensor.model}"></li>
							<li th:text="'Manufacturer: '+ ${sensor.manufacturer}"></li>
						</ul>
						<form action="#" th:action="@{/sensor/{id}/property/add(id=${sensor.id})}" th:object="${property}" method="post">
							<p>Property Type:
								<select th:field="*{propertyType}">
									<option th:each="type : ${propertyTypes}"
											th:value="${type.id}"
											th:text="${type.name}"></option>
								</select>
							</p>
							
							<p>Value: <input type="text" th:field="*{value}"/></p>
							<p th:if="${#fields.hasErrors('value')}" th:errors="*{value}">Value error message </p>
							<p>Unit: <input type="text" th:field="*{unit}"/></p>
							<p th:if="${#fields.hasErrors('unit')}" th:errors="*{unit}">Unit error message </p>
							http://blog.florentlim.com/listing-enum-on-select-element-using-thymeleaf/
							<p>Boundary:
								<select th:field="*{boundary}">
									<option th:each="type: ${T(sensorsmanager.business.entities.Property.Boundary).values()}"
											th:value="${type}"
											th:text="${type.name}"></option>
								</select>
							</p>
							<p><input type="submit" value="Submit" /><input type="reset" value="Reset"/></p>
						</form>
					</div> -->
			</div>
		</div>
	</body>
</html>
